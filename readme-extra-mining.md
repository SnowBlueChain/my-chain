# Extra-mining, Extra-stacking and Extra-inviting

В проекте есть возможность включить для пользователей разные виды заработка: `extra-mining`, `extra-stacking` и `extra-inviting`.

## Extra-mining - система наград активных пользователей
Заключается в наградах за активность пользователей. Начисляется как процент на остаток некоторого актива или их совокупности если пользователь
проявлял активность за заданный промежуток времени. Может быть настроена в широких пределах. Например начисляться только при создании транзакции
со счета пользователя или и при приходе транзакций на его счет. С ограничением срока начисления и т.д.

Например - награду будет получать каждый на остаток по токену ААА из расчета 5% в месяц, причем награда выплачивается если
на этот счет пришла транзакция или с этого счета ушла транзакция, но награда может быть не менее чем 0,01 и срок с прошлой выплаты не более 30 дней.


Настройки `extra-mining` находятся в модуле core.BlockChain:  
+ `ACTION_ROYALTY_START` - если больше 0 то, то `extra-mining` начнет начисляться,
+ `ACTION_ROYALTY_PERCENT` - задает процент начисления за месяц в тысячных долях процента. Например значение 1000 - есть 1% в месяц,
+ `ACTION_ROYALTY_MIN` - минимальная величина выплаты. Если накопленное начисление меньше, то выплата для данного счета по данной
 транзакции не происходит,
+ `ACTION_ROYALTY_MAX_DAYS` - максимальный срок начисления в днях. Если между точками прошло больше дней то берется именно
 это значение для начисления
+ `ACTION_ROYALTY_TO_HOLD_ROYALTY_PERCENT` - процент, который дополнительно начисляется в программу `extra-stacking` (см. ниже),
+ `ACTION_ROYALTY_ASSET` - актив по которому считается баланс на счете,
+ `ACTION_ROYALTY_PERSONS_ONLY` - делать начисления только для персон. В этом случае подсчитывается общий баланс на всех счетах персоны.   

Так например если задан максимальный срок начисления в днях - 10, то если кто-то не был активным в блокчейне скажем 30 дней,
 то ему следующий раз выплата будет только за 10 дней.

## Extra-staking - дивидендная система наград пользователей
Заключается в наградах за инвестиции пользователей. Начисляется как процент на остаток некоторого актива или их совокупности безусловно.
По сути это дивидендные выплаты за владение долей некоторого актива. Можно задавать сроки выплат,
минимальные и максимальные выплаты, а также источник от которого зависит общая сумма выплат.
Например источником может быть доля от общего числа выплат по `extra-mining` или `extra-inviting` произведенная за срок начисления `extra-staking`.

Настройки `extra-staking` находятся в модуле core.BlockChain:  
+ `HOLD_ROYALTY_PERIOD_DAYS` - как часто начисляем в днях. Если = 0 - не начислять,
+ `HOLD_ROYALTY_MIN` - минимальная выплата - если меньше, то не производим выплаты в данном периоде для этого счета,
+ `HOLD_ROYALTY_EMITTER` - с какого счета производится эмиссия наград
+ `HOLD_ROYALTY_ASSET` - по какому активу смотрим баланс счета

## Extra-inviting - реферальная система наград пользователей
Заключается в наградах за привлечение других пользователей. Начисляется как процент от комиссии уплаченной приглашенным пользователем.
Имеет несколько уровней учета приглашений, так что награды можно получать от приглашенных вами приглашенных и т.д.
Настраивать можно максимальную глубину, доли выплат на каждом уровне, долю выплат общую.

Настройки `extra-inviting` находятся в модуле core.BlockChain:  
+ `REFERAL_BONUS_FOR_PERSON` - номер блока с котрого будет работать награда за приглашения,
+ `FEE_INVITED_DEEP` - какой максимальный уровень учета? Если = 0 - не начислять,
+ `BONUS_STOP_PERSON_KEY` - на каком номере персоны остановить выплату рефералки. То еать не платить номерам меньше заданного,
+ `FEE_INVITED_SHIFT` - (сейчас не используется) - сдвиг 2 для коэффициента для получения доли от комиссии. 1 - 1/2 идет в рефералку. 2 - 1/4-я и т.д.,
+ `BONUS_REFERAL` - максимальная награда,
+ `FEE_INVITED_SHIFT_IN_LEVEL` - сдвиг 2 для коэффициента следующего уровня. 1 - значит половина идет на нижний уровень. 2 - значит 1/4-я только и т.д.,
+ `BONUS_FOR_PERSON(int height)` - процедура, задает награду за удостоверение счета персоны,
+ `REFERAL_BONUS_FOR_PERSON(int height)` - процедура, запускает награду за приглашения с заданного блока.





## Extra-tax and Extra-burn
Так же можно задавать процент комиссии от объема перевода актива. И процент сжигания актива при переводе.

Настройки `extra-staking` находятся в модуле core.BlockChain:  
`ASSET_TRANSFER_PERCENTAGE` - список по номеру актива, значение - процент комиссии от объема и минимальная комиссия.
 То есть если вычисленное значение комиссии будет меньше, то спишется заданное наименьшее значение. 

Настройки `extra-burn` находятся в модуле core.BlockChain:  
`ASSET_BURN_PERCENTAGE` - список по номеру актива, значение - доля сжигания. Если в данном списке актив не задан,
 но задан в списке `ASSET_TRANSFER_PERCENTAGE`, то по умолчанию сжигается половина от комиссии.

